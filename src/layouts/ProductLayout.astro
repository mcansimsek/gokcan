---
import Layout from './Layout.astro';
import CategoryList from '../components/CategoryList.astro';
import { useTranslations } from '../i18n/ui';
import { getLangFromUrl } from '../utils/i18n';

interface Props {
  title?: string;
  description?: string;
}

const { title, description } = Astro.props;
const url = Astro.url;
const lang = getLangFromUrl(url);
const t = useTranslations(lang);
---

<Layout title={title} description={description}>
  <div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-8">{t('nav.products')}</h1>
    
    <div class="flex flex-col md:flex-row gap-8">
      <aside class="w-full md:w-1/4 lg:w-1/5">
        <CategoryList />
      </aside>
      
      <div class="w-full md:w-3/4 lg:w-4/5">
        <slot />
      </div>
    </div>
  </div>
</Layout>